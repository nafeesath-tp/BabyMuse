{% extends 'core/base.html' %}
{% block content %}
<section class="max-w-2xl mx-auto py-10 px-4 sm:px-6 lg:px-8">
    <h1 class="text-4xl font-bold text-center text-gray-800 mb-8">ğŸ‘¤ HI {{ user.first_name }} {{ user.last_name }} </h1>

    <div class="bg-white border border-gray-200 shadow-md rounded-2xl p-6 space-y-6">

        <!-- âœ… Flash Success Message -->
        {% if messages %}
            {% for message in messages %}
                {% if message.tags == 'success' %}
                    <div id="flash-message" class="bg-green-100 border border-green-400 text-green-800 px-4 py-2 rounded shadow text-center">
                        {{ message }}
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}

        <!-- ğŸ–¼ï¸ Profile Image -->
        <div class="flex justify-center">
            {% if user.profile_image %}
                <img src="{{ user.profile_image.url }}" alt="Profile Image"
                     class="w-28 h-28 rounded-full object-cover border-4 border-blue-500 shadow-lg">
            {% else %}
                <div class="w-28 h-28 flex items-center justify-center text-gray-400 bg-gray-100 rounded-full text-sm">
                    No Image
                </div>
            {% endif %}
        </div>

        <!-- ğŸ‘¤ User Details -->
        <div class="text-center space-y-2 text-gray-800">
            <p class="text-xl font-bold">
                {{ user.first_name }} {{ user.last_name }}
            </p>
            <p class="text-sm text-gray-500">{{ user.email }}</p>
            <p class="text-sm text-gray-500">{{ user.phone|default:"Add Contact" }}</p>
        </div>

        <!-- ğŸ”˜ Profile Actions -->
        <div class="flex flex-col sm:flex-row justify-between gap-4 pt-6">
            <a href="{% url 'user:edit_profile' %}" 
               class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded-lg text-center shadow transition">
                âœï¸ Edit Profile
            </a>

            <a href="{% url 'user:change_password' %}" 
               class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium px-6 py-2 rounded-lg text-center shadow transition">
                ğŸ” Change Password
            </a>
        </div>

        <!-- ğŸ  My Address -->
        <div class="text-center mt-6">
            <a href="{% url 'user:address_list' %}" 
               class="inline-block bg-gray-100 hover:bg-gray-200 text-blue-700 font-semibold px-6 py-2 rounded-lg shadow transition duration-200">
                ğŸ  My Address
            </a>
        </div>
    </div>
</section>

<!-- ğŸ§  Auto-hide flash message -->
<script>
    setTimeout(() => {
        const flash = document.getElementById('flash-message');
        if (flash) flash.style.display = 'none';
    }, 3000);
</script>
{% endblock %}
